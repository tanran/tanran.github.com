--- 
layout: post
title: Event Objects and Types
date: 2012-11-07 11:59:01
categories:
    - 
tags:
    -
---


Almost all events in a Cocoa application are represented by objects of the NSEvent class.


##NSEvent Objects

An NSEvent object—or, simply, an event object—contains pertinent information about an input action such as a mouse click or a key press. It stores such details as where the mouse was located or which character was typed. 

The window server associates each user action with a window and reports the event (in a lower-level form) to the application that created the window. The application temporarily places each event in a buffer called the event queue. When the application is ready to process an event, the application object (NSApp) takes one from the queue (usually the topmost one in the queue) and converts it to an NSEvent object before dispatching it to the appropriate objects in an application.


###Attributes of an Event Object

An NSEvent object is largely a **read-only** repository of information related to a specific event.

Some of the more important accessor methods of NSEvent are the following:

* type
* window
* locationInWindow
* modifierFlags
* characters
* timestamp
* clickCount


###NSEvent Class Methods

Though you rarely need do so, you can create an event object from scratch and either insert it into the event queue for distribution or send it directly to its destination in an event message.


###Event Objects in Methods of Other Classes

NSEvent objects are scattered throughout the Application Kit. 


##Event Types

The type method of NSEvent returns an NSEventType value that identifies the sort of event. 

The different types of events fall into six groups:

* Mouse events
* key events
* Tracking-rectangle and cursor-update events
* Tablet events
* Periodic events
* Other events


###Mouse Events

Mouse events are generated by changes in the state of the mouse buttons and by changes in the position of the mouse cursor on the screen.

* Events Related to Mouse Clicks and Movements

The larger category of mouse events includes those where the mouse button is pressed or released and where the mouse is moved without being tracked.

* NSLeftMouseDown, NSLeftMouseUp, NSRightMouseDown, NSRightMouseUp, NSOtherMouseDown, NSOtherMouseUp
* NSLeftMouseDragged, NSRightMouseDragged, NSOtherMouseDragged
* NSMouseMoved
* NSScrollWheel


* Mouse Tracking Events

It does this by allowing the application to define regions of a window, called tracking rectangles, that generate events when the cursor enters or leaves them. 

* NSMouseEntered and NSMouseExited
* NSCursorUpdate


###Key Events

Among the most common events sent to an application are direct reports of the user’s keyboard actions, identified by these NSEventType constants:

* NSKeyDown
* NSKeyUp
* NSFlagsChanged

Key-up events are used less frequently since they follow almost automatically when there’s been a key-down event. They’re useful only for applications that have to keep track of the state of these keys at all times.


###Tablet Events

#### Overview of Tablet Devices

A tablet with a stylus is an input device that generates more accurate and detailed data than does a mouse. 


#### Types of Tablet Events

There are two types of tablet events in the Application Kit: proximity events and pointer events.

* Proximity Events

A proximity event is an event that a tablet device generates when a pointing transducer (for example, a stylus) comes near or moves away from the tablet surface. It indicates the start or the end of a related series of pointer events (a session).

Generally, when an application receives a proximity event, it stores the device ID and any other identifier that is needed to distinguish among various items of tablet hardware involved in the session. 


* Pointer Events

A pointer event is an event that a tablet device generates after a stylus has entered proximity of the tablet. It indicates a change in the state of the transducer. 


#### Sequence of Tablet Events

A tablet proximity event signals the start of a series of related tablet pointer event and a subsequent proximity event signals the end of the series. These two proximity events thus provide a kind of frame for processing the pointer events in a session. 


* Other Types of Events

A periodic event (type NSPeriodic) simply notifies an application that a certain time interval has elapsed. Periodic events are particularly useful in situations where input events aren’t generated but you want them to be.

Unlike key and mouse events, periodic events aren’t dispatched to a window object. The application must retrieve them explicitly using the NSApplication method *nextEventMatchingMask:untilDate:inMode:dequeue:*, typically in a modal loop.

The remaining event types—*NSAppKitDefined*, *NSSystemDefined*, and *NSApplicationDefined*—are less structured, containing only generic subtype and data fields. 